(()=>{var e={968:e=>{e.exports=function(e,t,a){const i=[];return t.forEach((e=>{let t={title:e.id,hint:e.name,value:0};e.id===a&&(t.active=!0),i.push(t)})),e.forEach((e=>{e.sprintId=t.find((t=>e.timestamp>=t.startAt&&e.timestamp<=t.finishAt)).id;let a=i.findIndex((t=>t.title===e.sprintId));-1!=a&&(i[a].value+=1)})),i.sort(((e,t)=>e.title<t.title?-1:e.title>t.title?1:0)),i}},99:e=>{function t(e,t){const i=e-t;return`${i>0?"+"+i:i} ${a(Math.abs(i),"commit")}`}function a(e,t){return words={commit:["коммит","коммита","коммитов"]},e>=10&&e<20?words[t][2]:e%10==1?words[t][0]:e%10<5?words[t][1]:words[2]}e.exports=function(e,i,r){let s=0,n=0,o=0,l=0;r.forEach(((e,t)=>{const a=e.summaries.reduce(((e,t)=>{if("object"==typeof t)return e+t.added+t.removed;{const a=i.find((e=>e.id===t));return e+a.added+a.removed}}),0);a<=100?s+=1:a<=500?n+=1:a<=1e3?o+=1:l+=1}));let u=0,d=0,c=0,f=0;return e.forEach(((e,t)=>{const a=e.summaries.reduce(((e,t)=>{if("object"==typeof t)return e+t.added+t.removed;{const a=i.find((e=>e.id===t));return e+a.added+a.removed}}),0);a<=100?u+=1:a<=500?d+=1:a<=1e3?c+=1:f+=1})),[{title:"> 1001 строки",valueText:`${f} ${a(f,"commit")}`,differenceText:t(f,l)},{title:"501 — 1000 строк",valueText:`${c} ${a(c,"commit")}`,differenceText:t(c,o)},{title:"101 — 500 строк",valueText:`${d} ${a(d,"commit")}`,differenceText:t(d,n)},{title:"1 — 100 строк",valueText:`${u} ${a(u,"commit")}`,differenceText:t(u,s)}]}},579:(e,t,a)=>{const i=a(105),r=a(460),s=a(968),n=a(99);e.exports={prepareData:function(e,{sprintId:t}){let a=[],o=[],l=[],u=[],d=[];e.forEach((e=>{switch(e.type){case"Sprint":a.push(e);break;case"User":o.push(e);break;case"Comment":l.push(e);break;case"Commit":u.push(e);break;case"Summary":d.push(e)}}));const c=a.find((e=>e.id===t)),f=a.find((e=>e.id===t-1)),m=l.filter((e=>"Comment"===e.type&&e.createdAt>=c.startAt&&e.createdAt<=c.finishAt)),x=u.filter((e=>e.timestamp>=c.startAt&&e.timestamp<=c.finishAt)),v=u.filter((e=>e.timestamp>=f.startAt&&e.timestamp<=f.finishAt)),h=x.length-v.length,p=x.length;let T;T=p%10==1?`${p} коммит`:`${p} коммит${p%10>=5||p%10==0?"ов":"а"}`;const $=i(x,o);return JSON.stringify([{alias:"vote",data:{title:"Самый 🔎 внимательный разработчик",subtitle:c.name,emoji:"🔎",users:r(m,o)}},{alias:"leaders",data:{title:"Больше всего коммитов",subtitle:c.name,emoji:"👑",users:$}},{alias:"chart",data:{title:"Коммиты",subtitle:c.name,values:s(u,a,t),users:$}},{alias:"diagram",data:{title:"Размер коммитов",subtitle:c.name,totalText:T,differenceText:`${h>0?"+"+h:h} с прошлого спринта`,categories:n(x,d,v)}}])}}},105:e=>{e.exports=function(e,t){const a=[];return e.forEach((e=>{let i="object"==typeof e.author?e.author.id:e.author,r=a.findIndex((e=>e.id===i));if(-1===r){let e=t.find((e=>e.id===i));a.push({id:e.id,name:e.name,avatar:e.avatar,valueText:1})}else a[r].valueText+=1})),a.sort(((e,t)=>e.valueText>t.valueText?-1:e.valueText<t.valueText?1:0)),a}},460:e=>{e.exports=function(e,t){const a=[];return e.forEach((e=>{let i="object"==typeof e.author?e.author.id:e.author,r=a.findIndex((e=>e.id===i));if(-1===r){let r=t.find((e=>e.id===i));a.push({id:r.id,name:r.name,avatar:r.avatar,valueText:e.likes.length})}else a[r].valueText+=e.likes.length})),a.sort(((e,t)=>e.valueText>t.valueText?-1:e.valueText<t.valueText?1:0)),a.forEach(((e,t)=>{let i;i=1==e.valueText%10?`${e.valueText} голос`:`${e.valueText} голос${e.valueText%10>=5||e.valueText%10==0?"ов":"а"}`,a[t].valueText=i})),a}}},t={};!function a(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,a),s.exports}(579)})();